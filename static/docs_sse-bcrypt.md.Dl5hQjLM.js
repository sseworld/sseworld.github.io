import{_ as s,c as a,o as i,a4 as e}from"./chunks/framework.BxU-Can-.js";const y=JSON.parse('{"title":"SSE Bcrypt","description":"","frontmatter":{"title":"SSE Bcrypt"},"headers":[],"relativePath":"docs/sse-bcrypt.md","filePath":"docs/sse-bcrypt.md"}'),t={name:"docs/sse-bcrypt.md"},l=e(`<h2 id="note-this-project-is-not-actively-maintained" tabindex="-1">Note: This project is not actively maintained <a class="header-anchor" href="#note-this-project-is-not-actively-maintained" aria-label="Permalink to &quot;Note: This project is not actively maintained&quot;">â€‹</a></h2><p>If you are looking for a javscript-only bcrypt implementation we recommend you use <a href="https://github.com/dcodeIO/bcrypt.js" target="_blank" rel="noreferrer">bcrypt.js</a>, which is based on @sseworld/bcrypt-ts.</p><h1 id="sseworld-bcrypt-ts" tabindex="-1">@sseworld/bcrypt-ts <a class="header-anchor" href="#sseworld-bcrypt-ts" aria-label="Permalink to &quot;@sseworld/bcrypt-ts&quot;">â€‹</a></h1><p>===========================================</p><p>Warning : A change was made in v0.0.3 to allow encoding of UTF-8 encoded strings. This causes strings encoded in v0.0.2 or earlier to not work in v0.0.3 anymore.</p><p>Native JS implementation of BCrypt for Node. Has the same functionality as [node.bcrypt.js] expect for a few tiny differences. Mainly, it doesn&#39;t let you set the seed length for creating the random byte array.</p><p>I created this version due to a small <a href="https://github.com/ncb000gt/node.bcrypt.js/issues/102" target="_blank" rel="noreferrer">problem</a> I faced with [node.bcrypt.js]. Basically, to deploy one of my apps which uses [node.bcrypt.js] on a winx64 platform, I have to force the user to download about 1.6gb of sdks, buildtools and other requirements of which some fail to install ! Microsoft ðŸ˜¦</p><p>This code is based on [javascript-bcrypt] and uses [crypto] to create random byte arrays.</p><h2 id="basic-usage" tabindex="-1">Basic usage: <a class="header-anchor" href="#basic-usage" aria-label="Permalink to &quot;Basic usage:&quot;">â€‹</a></h2><p>Installing the Package</p><p><code>npm install @sseworld/bcrypt-ts</code> or <code>yarn add @sseworld/bcrypt-ts</code></p><p>Synchronous</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> hash </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bcrypt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hashSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bacon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bcrypt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compareSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bacon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, hash); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bcrypt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compareSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;veggies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, hash); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span></code></pre></div><p>Asynchronous</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bcrypt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bacon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">hash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Store hash in your password DB.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Load hash from your password DB.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bcrypt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compare</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bacon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, hash, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // res == true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bcrypt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compare</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;veggies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, hash, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // res = false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>In the above examples, the salt is automatically generated and attached to the hash. Though you can use your custom salt and there is no need for salts to be persisted as it will always be included in the final hash result and can be retrieved.</p><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">â€‹</a></h2><ul><li><code>genSaltSync(rounds)</code><ul><li><code>rounds</code> - [OPTIONAL] - the number of rounds to process the data for. (default - 10)</li></ul></li><li><code>genSalt(rounds, callback)</code><ul><li><code>rounds</code> - [OPTIONAL] - the number of rounds to process the data for. (default - 10)</li><li><code>callback</code> - [REQUIRED] - a callback to be fired once the salt has been generated. <ul><li><code>error</code> - First parameter to the callback detailing any errors.</li><li><code>result</code> - Second parameter to the callback providing the generated salt.</li></ul></li></ul></li><li><code>hashSync(data, salt)</code><ul><li><code>data</code> - [REQUIRED] - the data to be encrypted.</li><li><code>salt</code> - [REQUIRED] - the salt to be used in encryption.</li></ul></li><li><code>hash(data, salt, progress, cb)</code><ul><li><code>data</code> - [REQUIRED] - the data to be encrypted.</li><li><code>salt</code> - [REQUIRED] - the salt to be used to hash the password.</li><li><code>progress</code> - a callback to be called during the hash calculation to signify progress</li><li><code>callback</code> - [REQUIRED] - a callback to be fired once the data has been encrypted. <ul><li><code>error</code> - First parameter to the callback detailing any errors.</li><li><code>result</code> - Second parameter to the callback providing the encrypted form.</li></ul></li></ul></li><li><code>compareSync(data, encrypted)</code><ul><li><code>data</code> - [REQUIRED] - data to compare.</li><li><code>encrypted</code> - [REQUIRED] - data to be compared to.</li></ul></li><li><code>compare(data, encrypted, cb)</code><ul><li><code>data</code> - [REQUIRED] - data to compare.</li><li><code>encrypted</code> - [REQUIRED] - data to be compared to.</li><li><code>callback</code> - [REQUIRED] - a callback to be fired once the data has been compared. <ul><li><code>error</code> - First parameter to the callback detailing any errors.</li><li><code>result</code> - Second parameter to the callback providing whether the data and encrypted forms match [true | false].</li></ul></li></ul></li><li><code>getRounds(encrypted)</code> - return the number of rounds used to encrypt a given hash <ul><li><code>encrypted</code> - [REQUIRED] - hash from which the number of rounds used should be extracted.</li></ul></li></ul><h2 id="contributors" tabindex="-1">Contributors <a class="header-anchor" href="#contributors" aria-label="Permalink to &quot;Contributors&quot;">â€‹</a></h2><ul><li>[SSE World][sseworld]</li><li>[SSE Official][ssewofficial]</li></ul>`,20),n=[l];function r(h,o,p,d,c,k){return i(),a("div",null,n)}const u=s(t,[["render",r]]);export{y as __pageData,u as default};
